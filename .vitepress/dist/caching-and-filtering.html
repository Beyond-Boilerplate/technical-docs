<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Request for Comments (RFC): Implementation of Filtering, Sorting, Pagination, and Caching for Production-Ready Applications | VitePress</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.4.1">
    <link rel="preload stylesheet" href="/assets/style.DTi47vbO.css" as="style">
    
    <script type="module" src="/assets/app.B7H0UzUQ.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.1L8kWkwp.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BGo0cstt.js">
    <link rel="modulepreload" href="/assets/caching-and-filtering.md.ooa27kBh.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle" data-v-9fd4d1dd data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _caching-and-filtering" data-v-e6f2a212><div><h1 id="request-for-comments-rfc-implementation-of-filtering-sorting-pagination-and-caching-for-production-ready-applications" tabindex="-1">Request for Comments (RFC): <strong>Implementation of Filtering, Sorting, Pagination, and Caching for Production-Ready Applications</strong> <a class="header-anchor" href="#request-for-comments-rfc-implementation-of-filtering-sorting-pagination-and-caching-for-production-ready-applications" aria-label="Permalink to &quot;Request for Comments (RFC): **Implementation of Filtering, Sorting, Pagination, and Caching for Production-Ready Applications**&quot;">​</a></h1><h2 id="table-of-contents" tabindex="-1">Table of Contents: <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of Contents:&quot;">​</a></h2><ol><li><strong>Introduction</strong></li><li><strong>Objective</strong></li><li><strong>Scope</strong></li><li><strong>Core Concepts</strong><ul><li>Filtering</li><li>Sorting</li><li>Pagination</li><li>Caching</li></ul></li><li><strong>Design Guidelines and Best Practices</strong><ul><li>Filtering Implementation</li><li>Sorting Implementation</li><li>Pagination Implementation</li><li>Caching Implementation</li></ul></li><li><strong>Decision Matrix</strong></li><li><strong>Common Gotchas</strong></li><li><strong>Security Considerations</strong></li><li><strong>Performance Considerations</strong></li><li><strong>Conclusion</strong></li></ol><hr><h2 id="_1-introduction" tabindex="-1">1. <strong>Introduction</strong> <a class="header-anchor" href="#_1-introduction" aria-label="Permalink to &quot;1. **Introduction**&quot;">​</a></h2><p>In modern web applications, it is crucial to offer users the ability to retrieve and manipulate large datasets efficiently. Features such as filtering, sorting, pagination, and caching are essential for building scalable and responsive APIs. This RFC provides comprehensive guidelines on implementing these features in a production-ready system using Spring Boot.</p><hr><h2 id="_2-objective" tabindex="-1">2. <strong>Objective</strong> <a class="header-anchor" href="#_2-objective" aria-label="Permalink to &quot;2. **Objective**&quot;">​</a></h2><p>The objective of this RFC is to provide a technical guide for developers to implement filtering, sorting, pagination, and caching in their APIs. The goal is to ensure high performance, scalability, and a smooth user experience in production environments.</p><hr><h2 id="_3-scope" tabindex="-1">3. <strong>Scope</strong> <a class="header-anchor" href="#_3-scope" aria-label="Permalink to &quot;3. **Scope**&quot;">​</a></h2><p>This document focuses on the following:</p><ul><li>Implementing filtering, sorting, and pagination mechanisms in API endpoints.</li><li>Leveraging caching for optimized performance and minimizing redundant database queries.</li><li>Ensuring that the implementation is production-ready, with a focus on robustness and scalability.</li></ul><hr><h2 id="_4-core-concepts" tabindex="-1">4. <strong>Core Concepts</strong> <a class="header-anchor" href="#_4-core-concepts" aria-label="Permalink to &quot;4. **Core Concepts**&quot;">​</a></h2><h3 id="_4-1-filtering" tabindex="-1">4.1 Filtering <a class="header-anchor" href="#_4-1-filtering" aria-label="Permalink to &quot;4.1 Filtering&quot;">​</a></h3><p><strong>Filtering</strong> allows users to narrow down the dataset by specific criteria, e.g., fetching transactions where <code>amount &gt; 300</code>. It supports various operators such as <code>&gt;</code>, <code>&lt;</code>, <code>=</code>, and <code>LIKE</code>.</p><h3 id="_4-2-sorting" tabindex="-1">4.2 Sorting <a class="header-anchor" href="#_4-2-sorting" aria-label="Permalink to &quot;4.2 Sorting&quot;">​</a></h3><p><strong>Sorting</strong> ensures that data can be retrieved in a specific order (ascending or descending) based on one or more fields, such as sorting transactions by <code>amount</code>.</p><h3 id="_4-3-pagination" tabindex="-1">4.3 Pagination <a class="header-anchor" href="#_4-3-pagination" aria-label="Permalink to &quot;4.3 Pagination&quot;">​</a></h3><p><strong>Pagination</strong> splits large datasets into manageable chunks, reducing the load on the server and improving response times. It is defined by the <code>page</code> and <code>size</code> parameters, allowing users to navigate through the dataset.</p><h3 id="_4-4-caching" tabindex="-1">4.4 Caching <a class="header-anchor" href="#_4-4-caching" aria-label="Permalink to &quot;4.4 Caching&quot;">​</a></h3><p><strong>Caching</strong> stores frequently requested data temporarily in memory, reducing the load on the database and improving response times for repeated requests.</p><hr><h2 id="_5-design-guidelines-and-best-practices" tabindex="-1">5. <strong>Design Guidelines and Best Practices</strong> <a class="header-anchor" href="#_5-design-guidelines-and-best-practices" aria-label="Permalink to &quot;5. **Design Guidelines and Best Practices**&quot;">​</a></h2><h3 id="_5-1-filtering-implementation" tabindex="-1">5.1 Filtering Implementation <a class="header-anchor" href="#_5-1-filtering-implementation" aria-label="Permalink to &quot;5.1 Filtering Implementation&quot;">​</a></h3><ul><li><strong>Approach</strong>: Use a dynamic filtering system that allows users to filter on various fields using query parameters.</li><li><strong>Specification Pattern</strong>: Leverage Spring’s <code>Specification</code> to dynamically construct SQL queries based on the filters.</li><li><strong>Flexible Criteria</strong>: Implement <code>FilterCriteria</code> to support multiple operators like <code>&gt;</code>, <code>&lt;</code>, <code>=</code>, <code>LIKE</code>.</li></ul><p><strong>Example</strong>:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransactionSpecificationBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FilterCriteria</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; params;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TransactionSpecificationBuilder </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">operation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Object </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        params.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FilterCriteria</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(key, operation, value));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Specification&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Transaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (params.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isEmpty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Specification&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Transaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransactionSpecification</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> params.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Specification.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TransactionSpecification</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i)));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Best Practices</strong>:</p><ul><li><strong>Avoid Over-Filtering</strong>: Limit the number of filters allowed in a single query to prevent overloading the database.</li><li><strong>Secure Filtering</strong>: Validate user input to prevent SQL injection attacks by using parameterized queries.</li></ul><h3 id="_5-2-sorting-implementation" tabindex="-1">5.2 Sorting Implementation <a class="header-anchor" href="#_5-2-sorting-implementation" aria-label="Permalink to &quot;5.2 Sorting Implementation&quot;">​</a></h3><ul><li><strong>Approach</strong>: Use Spring&#39;s <code>Pageable</code> interface to handle sorting.</li><li><strong>Multiple Fields</strong>: Allow users to sort by more than one field, e.g., <code>sort=amount,desc&amp;sort=date,asc</code>.</li></ul><p><strong>Example</strong>:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/transactions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ResponseEntity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Transaction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAllTransactions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Pageable pageable) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ResponseEntity.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(transactionService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllTransactions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pageable));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Best Practices</strong>:</p><ul><li><strong>Default Sorting</strong>: Provide default sorting behavior to avoid unexpected results when no sorting is specified.</li><li><strong>Field Whitelisting</strong>: Validate that the fields users are sorting by actually exist to avoid errors.</li></ul><h3 id="_5-3-pagination-implementation" tabindex="-1">5.3 Pagination Implementation <a class="header-anchor" href="#_5-3-pagination-implementation" aria-label="Permalink to &quot;5.3 Pagination Implementation&quot;">​</a></h3><ul><li><strong>Approach</strong>: Implement pagination using the <code>Pageable</code> interface from Spring Data, supporting both page number and size.</li></ul><p><strong>Example</strong>:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Transaction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAllTransactionsWithPage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FilterCriteria</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filters, Pageable pageable) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Specification&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Transaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; spec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buildSpecification</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filters);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transactionRepository.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(spec, pageable);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Best Practices</strong>:</p><ul><li><strong>Reasonable Limits</strong>: Set a reasonable upper limit for <code>size</code> to avoid clients requesting too much data, e.g., limit the <code>size</code> to 100 items.</li><li><strong>Include Metadata</strong>: Always return pagination metadata (<code>totalElements</code>, <code>totalPages</code>, <code>size</code>, <code>number</code>) to improve the UX in the front end.</li></ul><h3 id="_5-4-caching-implementation" tabindex="-1">5.4 Caching Implementation <a class="header-anchor" href="#_5-4-caching-implementation" aria-label="Permalink to &quot;5.4 Caching Implementation&quot;">​</a></h3><ul><li><strong>Approach</strong>: Use Spring’s <code>@Cacheable</code> annotation to cache responses.</li><li><strong>Conditional Caching</strong>: Cache only non-empty results using the <code>condition</code> attribute.</li></ul><p><strong>Example</strong>:</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Cacheable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;transactionsCache&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;T(com.example.CacheKeyGenerator).generateKey(#filters, #pageable)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    condition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#result != null &amp;&amp; !#result.isEmpty()&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Transaction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getAllTransactionsWithCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FilterCriteria</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filters, Pageable pageable) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Page&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Transaction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transactionRepository.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">buildSpecification</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filters), pageable);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getContent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Best Practices</strong>:</p><ul><li><strong>Expire Stale Data</strong>: Use <code>@CacheEvict</code> to invalidate the cache when transactions are updated or deleted.</li><li><strong>Key Generation</strong>: Ensure unique cache keys are generated based on filters, pagination, and sorting.</li></ul><hr><h2 id="_6-decision-matrix" tabindex="-1">6. <strong>Decision Matrix</strong> <a class="header-anchor" href="#_6-decision-matrix" aria-label="Permalink to &quot;6. **Decision Matrix**&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Feature</th><th>Decision</th><th>Recommendation</th></tr></thead><tbody><tr><td><strong>Filtering</strong></td><td>Dynamic filtering using the Specification pattern.</td><td>Use flexible operators and validate inputs.</td></tr><tr><td><strong>Sorting</strong></td><td>Sorting by single or multiple fields via <code>Pageable</code>.</td><td>Default sorting and field whitelisting.</td></tr><tr><td><strong>Pagination</strong></td><td>Spring Data <code>Pageable</code> for pagination.</td><td>Set upper limits on page size.</td></tr><tr><td><strong>Caching</strong></td><td>Spring’s <code>@Cacheable</code> for caching query results.</td><td>Cache only non-empty results.</td></tr></tbody></table><hr><h2 id="_7-common-gotchas" tabindex="-1">7. <strong>Common Gotchas</strong> <a class="header-anchor" href="#_7-common-gotchas" aria-label="Permalink to &quot;7. **Common Gotchas**&quot;">​</a></h2><ol><li><strong>Improper Cache Eviction</strong>: Ensure you use <code>@CacheEvict</code> on methods that modify or delete transactions, or else the cache will return stale data.</li><li><strong>Incorrect Sorting Fields</strong>: If a user tries to sort by a field that doesn’t exist, it will result in errors. Always validate that the requested fields exist in the entity.</li><li><strong>Large Page Sizes</strong>: Allowing unrestricted page sizes may lead to performance bottlenecks. Always set a reasonable maximum size.</li><li><strong>Missing Pagination Metadata</strong>: Returning only the data list without pagination metadata (e.g., <code>totalPages</code>, <code>totalElements</code>) can make it hard for clients to display correct pagination controls.</li><li><strong>Inefficient Filtering Logic</strong>: Complex filtering can result in slow database queries if not optimized with indexes. Always ensure proper database indexing for filterable fields.</li></ol><hr><h2 id="_8-security-considerations" tabindex="-1">8. <strong>Security Considerations</strong> <a class="header-anchor" href="#_8-security-considerations" aria-label="Permalink to &quot;8. **Security Considerations**&quot;">​</a></h2><ul><li><strong>Input Validation</strong>: Validate all user input, especially for filtering and sorting, to prevent SQL injection and ensure that invalid fields don’t crash the query.</li><li><strong>Rate Limiting</strong>: Use rate limiting for paginated requests to avoid denial-of-service (DoS) attacks by malicious clients requesting large datasets frequently.</li><li><strong>Data Exposure</strong>: Ensure that only fields meant for public consumption are exposed in paginated and filtered responses.</li></ul><hr><h2 id="_9-performance-considerations" tabindex="-1">9. <strong>Performance Considerations</strong> <a class="header-anchor" href="#_9-performance-considerations" aria-label="Permalink to &quot;9. **Performance Considerations**&quot;">​</a></h2><ul><li><strong>Caching Strategy</strong>: Use a combination of in-memory caching (e.g., Redis) and application-level caching to reduce load on the database.</li><li><strong>Database Indexing</strong>: Ensure that all filterable, sortable, and frequently queried fields are indexed to optimize query performance.</li><li><strong>Lazy Loading</strong>: For large relationships (e.g., <code>@OneToMany</code>), use lazy loading to avoid fetching unnecessary data in paginated responses.</li><li><strong>Concurrency</strong>: Consider the consistency model for caching in distributed environments (e.g., cache coherence and invalidation across nodes).</li></ul><hr><h2 id="_10-conclusion" tabindex="-1">10. <strong>Conclusion</strong> <a class="header-anchor" href="#_10-conclusion" aria-label="Permalink to &quot;10. **Conclusion**&quot;">​</a></h2><p>By following this RFC, developers can implement filtering, sorting, pagination, and caching in a scalable, efficient, and production-ready manner. Adopting these practices ensures that applications can handle large datasets and provide fast and responsive APIs. This document also serves as a blueprint to avoid common pitfalls and optimize the application&#39;s overall performance.</p><p>For further questions or discussions regarding this RFC, please reach out to the designated team.</p><hr></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"caching-and-filtering.md\":\"ooa27kBh\",\"etags.md\":\"CCFmfai3\",\"hateoas.md\":\"giwmozzi\",\"idempotency.md\":\"BRaHAfDY\",\"index.md\":\"B0-50B3z\",\"kubernetes-setup.md\":\"DWJcB9Vt\",\"neovim.md\":\"CjfnjNQI\",\"rate-limiting-and-throttling.md\":\"C1EVT8kM\",\"readme.md\":\"D9K6DsMW\",\"ssh-server-access.md\":\"DJFRmKqk\",\"team.md\":\"BbNw5voc\",\"temporal-with-springboot.md\":\"Dgmi5ty7\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>